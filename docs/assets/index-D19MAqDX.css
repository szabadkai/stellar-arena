*{margin:0;padding:0;box-sizing:border-box}html,body{width:100%;height:100%}body{font-family:Courier New,monospace;background:#0a0e1a;color:#e0e0e0;overflow:hidden;position:relative;width:100%;height:100%}#game-container{display:flex;height:100vh;width:100vw;position:relative}#hud{width:350px;min-width:350px;max-width:350px;flex-shrink:0;background:#1a1f2e;padding:20px;border-right:2px solid #2a3f5f;overflow-y:auto;position:relative;z-index:10}#turn-info h2{color:#4a9eff;margin-bottom:20px;font-size:24px}#active-ship-info h3{color:#ffa64d;margin-bottom:15px;font-size:18px}.stats{margin-bottom:20px}.stat-bar{margin-bottom:10px}.stat-bar label{display:inline-block;width:70px;color:#a0a0a0;font-size:12px}.bar{display:inline-block;width:150px;height:12px;background:#0a0e1a;border:1px solid #2a3f5f;position:relative;vertical-align:middle;margin:0 10px}.fill{height:100%;transition:width .3s ease}.fill.hull{background:#4a9eff}.fill.shield{background:#00d4ff}.fill.energy{background:#fa0}.stat-bar span{font-size:11px;color:#a0a0a0}#energy-allocation{background:#151923;padding:15px;border-radius:5px;margin-bottom:20px}#energy-allocation h4{color:#fa0;margin-bottom:10px;font-size:14px}.slider-group{margin-bottom:10px}.slider-group label{display:block;margin-bottom:5px;font-size:12px;color:#a0a0a0}input[type=range]{width:100%;height:6px;background:#0a0e1a;outline:none;border-radius:3px}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:16px;height:16px;background:#fa0;cursor:pointer;border-radius:50%}input[type=range]::-moz-range-thumb{width:16px;height:16px;background:#fa0;cursor:pointer;border-radius:50%;border:none}#weapon-select{background:#151923;padding:15px;border-radius:5px;margin-bottom:20px}#weapon-select h4{color:#f44;margin-bottom:10px;font-size:14px}#ability-select{background:#151923;padding:15px;border-radius:5px;margin-bottom:20px}#ability-select h4{color:#6ab9ff;margin-bottom:10px;font-size:14px}#ability-buttons{display:flex;flex-direction:column;gap:8px}.ability-empty{font-size:12px;color:#65748f;padding:8px;border:1px dashed #2a3f5f;border-radius:4px;text-align:center}#weapon-buttons{display:flex;flex-direction:column;gap:8px}.weapon-btn{background:#2a3f5f;border:1px solid #4a9eff;color:#e0e0e0;padding:10px;cursor:pointer;font-family:Courier New,monospace;font-size:11px;border-radius:3px;transition:all .2s;position:relative;z-index:100;pointer-events:auto;white-space:pre-line;text-align:left;line-height:1.6}.weapon-btn:hover{background:#3a5f8f;border-color:#6ab9ff}.weapon-btn.active{background:#f44;border-color:#f66}.weapon-btn.disabled{opacity:.5;cursor:not-allowed}.ability-btn{background:#25354c;border:1px solid #6ab9ff;color:#e0e0e0;padding:10px;cursor:pointer;font-family:Courier New,monospace;font-size:11px;border-radius:3px;transition:all .2s;position:relative;z-index:100;white-space:pre-line;text-align:left;line-height:1.6}.ability-btn:hover{background:#2f4766;border-color:#7ec7ff}.ability-btn.disabled{opacity:.5;cursor:not-allowed}.hud-hint{font-size:11px;color:#7a8ba7;margin-left:8px}.hidden{display:none!important}.game-over-overlay{position:absolute;top:0;right:0;bottom:0;left:0;background:#0a0e1aeb;display:flex;align-items:center;justify-content:center;z-index:999;padding:20px}.game-over-card{background:#151923f2;border:2px solid #ff4444;border-radius:12px;padding:32px 40px;max-width:420px;text-align:center;box-shadow:0 12px 40px #00000073}.game-over-card h2{font-size:36px;margin-bottom:12px;color:#f66;letter-spacing:2px}.game-over-card p{font-size:16px;color:#d0d0d0;margin-bottom:24px;line-height:1.4}.game-over-actions{display:flex;gap:12px;justify-content:center}.game-over-actions .action-btn{min-width:140px}.battle-event-overlay{position:absolute;top:0;right:0;bottom:0;left:0;background:#080a16e0;display:flex;align-items:center;justify-content:center;z-index:980;padding:20px}.battle-event-card{width:min(520px,90vw);background:#151a27f5;border:2px solid #6ab9ff;border-radius:14px;padding:32px 36px;box-shadow:0 18px 48px #00000073;text-align:left}.battle-event-card h2{font-size:30px;margin-bottom:12px;color:#6ab9ff}.battle-event-card p{font-size:15px;line-height:1.6;color:#d4e6ff;margin-bottom:18px}.battle-event-choices{display:flex;flex-direction:column;gap:12px;margin-bottom:16px}.battle-event-choice-btn{background:#1f2d44;border:1px solid #4a9eff;color:#e2eeff;padding:12px 14px;border-radius:6px;text-align:left;cursor:pointer;transition:all .2s ease;font-size:13px;line-height:1.4}.battle-event-choice-btn:hover:not(.disabled){background:#2b4160;border-color:#7ec7ff}.battle-event-choice-btn.disabled{opacity:.6;cursor:default}.battle-event-message{min-height:22px;font-size:14px;color:#7ec7ff;margin-bottom:10px}.battle-event-continue{width:100%}.post-battle-summary{background:#151923;padding:15px;border-radius:6px;margin-bottom:20px;line-height:1.6;font-size:14px}.post-battle-summary span{color:#6ab9ff}.post-battle-event{background:#151923;padding:20px;border-radius:6px;border:1px solid #2a3f5f;margin-top:20px}.post-battle-event h3{color:#fa0;margin-bottom:10px}.event-choices{display:flex;flex-direction:column;gap:10px;margin-top:15px}.event-choice-btn{background:#2a3f5f;border:1px solid #4a9eff;color:#e0e0e0;padding:12px;border-radius:4px;text-align:left;cursor:pointer;transition:all .2s}.event-choice-btn:hover{background:#345278;border-color:#6ab9ff}.event-choice-btn.disabled{opacity:.6;cursor:default}.event-message{margin-top:15px;color:#6ab9ff;min-height:20px}#initiative-queue{margin-top:20px;background:#151923;padding:15px;border-radius:5px}#initiative-queue h3{color:#4a9eff;margin-bottom:10px;font-size:14px}#queue-list{display:flex;flex-direction:column;gap:5px}.queue-item{background:#2a3f5f;padding:8px;border-radius:3px;font-size:11px;border-left:3px solid #4a9eff}.queue-item.active{background:#3a5f8f;border-left-color:#fa0}.queue-item.enemy{border-left-color:#f44}#game-canvas{flex:1;min-width:0;background:#0a0e1a;cursor:crosshair;display:block;position:relative;z-index:1}#controls{position:absolute;bottom:20px;right:20px;display:flex;gap:10px;z-index:100}button{background:#2a3f5f;border:2px solid #4a9eff;color:#e0e0e0;padding:12px 24px;font-family:Courier New,monospace;font-size:14px;cursor:pointer;border-radius:5px;transition:all .2s}button:hover{background:#3a5f8f;border-color:#6ab9ff}button:active{transform:scale(.95)}button:disabled{opacity:.5;cursor:not-allowed}#message-container{position:absolute;top:20px;left:50%;transform:translate(-50%);pointer-events:none;z-index:1000;display:flex;flex-direction:column;gap:10px;min-width:300px}.game-message{background:#1a1f2ef2;border:2px solid #4a9eff;border-radius:5px;padding:12px 20px;color:#e0e0e0;font-size:14px;text-align:center;animation:slideIn .3s ease-out,fadeOut .3s ease-in 2.7s;box-shadow:0 4px 12px #00000080}.game-message.error{border-color:#f44;color:#f66}.game-message.success{border-color:#4f4;color:#6f6}.game-message.warning{border-color:#fa0;color:#fc4}@keyframes slideIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@keyframes fadeOut{0%{opacity:1}to{opacity:0}}.combat-log{position:absolute;top:20px;right:20px;width:350px;background:#1a1f2ef2;border:2px solid #4a9eff;border-radius:8px;z-index:500;transition:all .3s ease}.combat-log.collapsed .combat-log-content{display:none}.combat-log.collapsed{width:180px}.combat-log-header{display:flex;justify-content:space-between;align-items:center;padding:12px 15px;background:#2a3f5f;border-bottom:2px solid #4a9eff;cursor:pointer;-webkit-user-select:none;user-select:none}.combat-log-header:hover{background:#3a4f6f}.combat-log-header h3{color:#4a9eff;font-size:16px;margin:0}.log-toggle-btn{background:transparent;border:none;color:#4a9eff;font-size:18px;cursor:pointer;padding:0;width:24px;height:24px;transition:transform .3s ease}.combat-log:not(.collapsed) .log-toggle-btn{transform:rotate(180deg)}.combat-log-content{max-height:400px;display:flex;flex-direction:column}#combat-log-entries{flex:1;overflow-y:auto;padding:10px;max-height:350px;font-size:12px;line-height:1.4}#combat-log-entries::-webkit-scrollbar{width:8px}#combat-log-entries::-webkit-scrollbar-track{background:#1a1f2e}#combat-log-entries::-webkit-scrollbar-thumb{background:#4a9eff;border-radius:4px}.log-entry{padding:6px 8px;margin-bottom:4px;border-left:3px solid #4a9eff;background:#2a3f5f4d;border-radius:3px}.log-entry.info{border-left-color:#4a9eff;color:#a0d4ff}.log-entry.success{border-left-color:#4f4;color:#a0ffa0}.log-entry.warning{border-left-color:#fa0;color:#ffd480}.log-entry.error{border-left-color:#f44;color:#ffa0a0}.log-entry.enemy{border-left-color:#f44;background:#5f2a2a4d}.log-entry .timestamp{color:#6a9eff;font-size:10px;margin-right:8px}.log-clear-btn{margin:10px;padding:8px 12px;background:#2a3f5f;border:1px solid #4a9eff;color:#e0e0e0;font-family:Courier New,monospace;font-size:12px;cursor:pointer;border-radius:4px;transition:all .2s}.log-clear-btn:hover{background:#3a4f6f;border-color:#6ab9ff}#game-canvas.targeting{cursor:crosshair}#game-canvas.invalid-target{cursor:not-allowed}.screen{display:none;position:absolute;top:0;left:0;width:100vw;height:100vh}.screen.active{display:flex}#main-menu{justify-content:center;align-items:center;background:linear-gradient(135deg,#0a0e1a,#1a1f2e)}.menu-content{text-align:center}.game-title{font-size:72px;color:#4a9eff;text-shadow:0 0 20px rgba(74,158,255,.5);margin-bottom:60px;letter-spacing:8px}.menu-buttons{display:flex;flex-direction:column;gap:20px;min-width:300px}.menu-btn{background:#2a3f5f;border:3px solid #4a9eff;color:#e0e0e0;padding:20px 40px;font-size:24px;font-family:Courier New,monospace;cursor:pointer;transition:all .3s;text-transform:uppercase;letter-spacing:2px}.menu-btn:hover:not(:disabled){background:#3a5f8f;border-color:#6ab9ff;transform:translateY(-2px);box-shadow:0 4px 20px #4a9eff66}.menu-btn:disabled{opacity:.3;cursor:not-allowed}.version{margin-top:40px;color:#666;font-size:12px}#shipyard-screen{background:#0a0e1a;padding:40px;overflow-y:auto}#shipyard-screen.active{display:block}.shipyard-content{max-width:1600px;margin:0 auto;padding:20px}.shipyard-content h2{color:#4a9eff;font-size:48px;text-align:center;margin-bottom:20px}.campaign-info{display:flex;justify-content:center;gap:40px;margin-bottom:40px}.campaign-info .stat{font-size:20px;color:#a0a0a0}.campaign-info .stat span{color:#fa0;font-weight:700}.campaign-info .stat.fleet-points{font-size:22px;color:#4a9eff}.campaign-info .stat.fleet-points span{color:#6ab9ff;font-weight:700}#available-ships{margin-top:30px}#available-ships h3{color:#6ab9ff;font-size:28px;margin-bottom:20px;padding-bottom:10px;border-bottom:2px solid #2a3f5f;text-align:left}#ship-selection{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:24px;align-items:start}.ship-card{background:#1a1f2e;border:2px solid #2a3f5f;border-radius:10px;padding:24px;transition:all .3s;display:flex;flex-direction:column;min-height:420px}.ship-card:hover{border-color:#4a9eff;transform:translateY(-4px);box-shadow:0 6px 24px #4a9eff66}.ship-card.damaged{border-color:#f44;border-width:3px}.ship-card h4{color:#4a9eff;font-size:22px;margin-bottom:8px;text-align:center}.ship-card .ship-class{color:#a0a0a0;font-size:13px;margin-bottom:16px;text-align:center;text-transform:uppercase;letter-spacing:1px}.ship-illustration{display:flex;justify-content:center;align-items:center;background:#0a0e1a;border:1px solid #2a3f5f;border-radius:5px;padding:20px;margin-bottom:15px;min-height:80px}.ship-illustration canvas{image-rendering:pixelated;image-rendering:-moz-crisp-edges;image-rendering:crisp-edges;transform:scale(2.5)}.ship-card .ship-stats{display:flex;flex-direction:column;gap:10px;font-size:13px;margin-top:auto;padding-top:16px;border-top:1px solid #2a3f5f}.ship-stat{display:flex;justify-content:space-between;color:#a0a0a0}.ship-stat .value{color:#e0e0e0}.ship-stat.low{color:#f44}.shipyard-actions{display:flex;justify-content:center;gap:20px;margin-top:40px}.action-btn{background:#2a3f5f;border:3px solid #4a9eff;color:#e0e0e0;padding:15px 40px;font-size:18px;font-family:Courier New,monospace;cursor:pointer;transition:all .3s;text-transform:uppercase}.action-btn:hover{background:#3a5f8f;border-color:#6ab9ff}.action-btn.secondary{border-color:#666}.action-btn.secondary:hover{border-color:#999}#post-battle-screen{background:#0a0e1a;justify-content:center;align-items:center}.post-battle-content{background:#1a1f2e;border:3px solid #4a9eff;border-radius:12px;padding:40px;max-width:800px;text-align:center}.post-battle-content h2{font-size:48px;margin-bottom:30px}.post-battle-content h2.victory{color:#4f4}.post-battle-content h2.defeat{color:#f44}.rewards{margin-bottom:30px}.rewards h3{color:#fa0;margin-bottom:15px}#rewards-list{display:flex;justify-content:center;gap:30px;font-size:18px}.reward-item{color:#a0a0a0}.reward-item .value{color:#fa0;font-weight:700}.ship-status{margin-bottom:30px}.ship-status h3{color:#6ab9ff;margin-bottom:15px}#fleet-status{display:flex;flex-direction:column;gap:10px}.fleet-status-item{background:#0a0e1a;padding:10px;border-radius:5px;display:flex;justify-content:space-between}.post-battle-actions{display:flex;justify-content:center;gap:20px}.modal-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000d9;display:flex;justify-content:center;align-items:center;z-index:10000;animation:fadeIn .2s ease-out}.modal-content{background:#1a1f2e;border:3px solid #4a9eff;border-radius:10px;padding:40px;max-width:500px;min-width:400px;box-shadow:0 10px 40px #000c;animation:slideIn .3s ease-out}.modal-content h2{color:#4a9eff;font-size:28px;margin-bottom:20px;text-align:center}.modal-content p{color:#e0e0e0;font-size:16px;line-height:1.6;margin-bottom:30px;text-align:center}.modal-buttons{display:flex;gap:15px;justify-content:center}.modal-buttons button{min-width:120px}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.tutorial-overlay{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#0a0e1af2;z-index:10000;display:flex;justify-content:center;align-items:center;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.tutorial-content{background:#1a1f2e;border:3px solid #4a9eff;border-radius:12px;padding:40px;max-width:700px;max-height:85vh;overflow-y:auto;box-shadow:0 8px 32px #000c}.tutorial-content h2{color:#4a9eff;font-size:36px;text-align:center;margin-bottom:30px}.tutorial-section{margin-bottom:25px}.tutorial-section h3{color:#6ab9ff;font-size:20px;margin-bottom:10px}.tutorial-section p{color:#a0a0a0;margin-bottom:10px;line-height:1.6}.tutorial-section ul{list-style:none;padding-left:0}.tutorial-section li{color:#e0e0e0;margin-bottom:8px;padding-left:20px;position:relative;line-height:1.6}.tutorial-section li:before{content:"▸";position:absolute;left:0;color:#4a9eff}.tutorial-section strong{color:#fa0}#close-tutorial-btn{width:100%;margin-top:20px;padding:15px;font-size:16px}.tutorial-checkbox{display:flex;align-items:center;justify-content:center;margin-top:15px;color:#a0a0a0;cursor:pointer;gap:10px}.tutorial-checkbox input[type=checkbox]{cursor:pointer}.tutorial-checkbox:hover{color:#e0e0e0}#upgrade-screen{background:#0a0e1a;padding:40px;overflow-y:auto}#upgrade-screen.active{display:block}.upgrade-content{max-width:1200px;margin:0 auto}.upgrade-content h2{color:#4a9eff;font-size:48px;text-align:center;margin-bottom:10px}.upgrade-subtitle{text-align:center;color:#a0a0a0;font-size:18px;margin-bottom:40px}#upgrade-ships{display:flex;flex-direction:column;gap:30px}.upgrade-ship-section{background:#1a1f2e;border:2px solid #2a3f5f;border-radius:8px;padding:20px}.upgrade-ship-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:15px;border-bottom:1px solid #2a3f5f}.upgrade-ship-header h3{color:#6ab9ff;font-size:24px;margin:0}.upgrade-ship-stats{color:#a0a0a0;font-size:14px}.upgrade-choices{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:15px}.upgrade-card{background:#2a3f5f;border:2px solid #4a6f8f;border-radius:8px;padding:20px;cursor:pointer;transition:all .3s;text-align:center}.upgrade-card:hover{border-color:#6ab9ff;transform:translateY(-4px);box-shadow:0 4px 20px #4a9eff4d}.upgrade-card.selected{border-color:#fa0;background:#3a4f6f;box-shadow:0 4px 20px #fa06}.upgrade-icon{font-size:48px;margin-bottom:10px}.upgrade-name{color:#e0e0e0;font-size:18px;font-weight:700;margin-bottom:10px}.upgrade-description{color:#a0a0a0;font-size:14px;line-height:1.4}.upgrade-actions{display:flex;justify-content:center;margin-top:40px}#finish-upgrades-btn{padding:20px 60px;font-size:20px}
